# MPhone Mod - 我的世界手机模组

这是一个为Minecraft 1.12.2开发的手机模组。

## 功能特点

- 添加手机物品到游戏中
- 右键点击手机可以打开GUI界面
- **全面屏绿色手机**设计
- 手机界面包含6个应用按钮: 联系人、短信、相机、设置、应用、商店
- **真实游戏时间显示** - 状态栏显示Minecraft世界时间
- **信号强度显示** - 状态栏显示基站信号强度和SIM卡状态
- **相机拍照功能** - 点击相机按钮拍摄照片并保存
- **短信系统** - 发送和接收短信，支持多行消息气泡
- **联系人功能** - 每个手机独立的联系人列表，支持添加、编辑、删除联系人，彩色头像显示，详情页可直接发短信
- **应用商店** - 免费安装/卸载各种应用
- **手机设置** - 声音、通知、壁纸等设置
- **电话卡系统** - 6位电话号码，插入SIM卡才能使用通信功能
- **基站系统** - 放置基站提供信号覆盖，无信号时无法发送短信
- **应用状态记忆** - 关闭GUI后重新打开会回到上次使用的应用
- **数据持久化** - 短信数据保存到世界存档，退出游戏不丢失
- 支持中英文本地化
- 创造模式工具栏可找到手机物品

## 环境要求

- Java 8 (JDK 1.8)
- Minecraft 1.12.2
- Forge 1.12.2-14.23.5.2859+

## 开发环境设置

1. 确保已安装Java 8
2. 在项目目录下运行:
   ```bash
   # 生成IDE运行配置
   gradlew genIntellijRuns  # 如果使用IntelliJ IDEA
   # 或
   gradlew genEclipseRuns   # 如果使用Eclipse
   ```

## 构建模组

```bash
# 构建模组文件
gradlew build
```

构建完成后，模组文件将位于 `build/libs/MPhone-1.0.0.jar`

## 安装模组

1. 确保已安装Forge 1.12.2
2. 将 `MPhone-1.0.0.jar` 复制到 `.minecraft/mods/` 文件夹
3. 启动Minecraft，选择Forge版本
4. 在创造模式工具栏中找到"MPhone手机"、"电话卡"和"信号基站"

## 运行测试

```bash
# 运行客户端测试
gradlew runClient

# 运行服务端测试
gradlew runServer
```

## 常用Gradle命令

| 命令 | 说明 |
|------|------|
| `gradlew build` | 构建模组 |
| `gradlew runClient` | 运行客户端 |
| `gradlew runServer` | 运行服务端 |
| `gradlew clean` | 清理构建文件 |
| `gradlew tasks` | 查看所有可用任务 |

## 使用说明

### 信号基站

**功能介绍:**
- 提供64格半径的信号覆盖范围
- 手机需要在基站范围内才能显示信号
- 信号强度根据距离衰减：4格(0-16格) → 3格(16-32格) → 2格(32-48格) → 1格(48-64格)

**使用方法:**
1. 在创造模式工具栏中找到"信号基站"
2. 放置在世界中任意位置
3. 基站会发光，作为装饰和功能性方块

### 联系人

**功能介绍:**
- 每个手机拥有独立的联系人列表（基于SIM卡号码隔离）
- 添加、查看、编辑和删除联系人
- 联系人显示彩色头像（名字首字）
- 联系人详情页可直接发送短信
- 联系人数据保存到世界存档
- 在短信系统中自动显示联系人名称

**使用方法:**
1. 打开手机GUI，点击"联系人"按钮
2. **联系人列表界面**:
   - 查看当前手机已保存的联系人
   - 点击"新建"按钮添加联系人
   - 点击"查看"按钮查看联系人详情
3. **联系人详情界面**:
   - 显示联系人头像、姓名和电话
   - 点击"发短信"直接给该联系人发送短信
   - 点击"编辑"修改联系人信息
   - 点击"删除"删除联系人
4. **新建/编辑联系人**:
   - 输入联系人姓名（最多20字）
   - 输入6位电话号码
   - 点击"保存"

**注意:** 每个SIM卡（每个手机）的联系人列表是独立的，更换SIM卡后会显示该SIM卡对应的联系人列表

### 短信系统

**功能介绍:**
- 发送和接收短信消息
- 支持多行消息气泡显示（自动换行）
- 会话列表显示所有联系人
- 未读消息标记（红色圆点）
- 需要信号基站才能发送短信
- 短信数据保存到世界存档，退出游戏不丢失

**使用方法:**
1. 确保已插入SIM卡且在信号基站范围内
2. 打开手机GUI，点击"短信"按钮
3. **会话列表界面**:
   - 查看所有短信会话
   - 点击"新建"按钮发送新短信
   - 点击会话查看聊天记录
4. **聊天界面**:
   - 绿色气泡 = 你发送的消息
   - 灰色气泡 = 收到的消息
   - 输入消息后点击"发送"或按回车
5. **新建短信**:
   - 输入6位收件人号码
   - 输入短信内容（最多100字）
   - 点击"发送"

### 电话卡

**功能介绍:**
- 每张电话卡有唯一的6位电话号码
- 必须插入手机才能使用通信功能
- 可在物品栏中查看电话号码

**使用方法:**
1. 在创造模式工具栏中找到"电话卡"
2. 手持电话卡，右键点击手机即可插入
3. 潜行+右键手机可取出电话卡

### 如何使用手机

1. 在创造模式工具栏中找到"MPhone手机"
2. 将手机拿在手中，右键点击打开GUI界面
3. **状态栏显示**:
   - 左侧：信号强度（4格显示，需要插入SIM卡且在基站范围内）
   - 中间：游戏时间
   - 右侧：SIM卡状态（绿色=已插卡，灰色=未插卡）
4. 在GUI界面中可以看到应用图标（5行3列布局，每页最多15个）:
   - **系统应用**（固定显示）:
     - **联系人** - 查看和管理联系人
     - **短信** - 发送和接收短信
     - **相机** - 拍照功能
     - **设置** - 手机设置（声音、通知、壁纸）
     - **商店** - 应用商店
   - **已安装应用** - 从应用商店安装的应用会显示在这里
5. **翻页浏览** - 如果应用超过15个，点击左右箭头翻页
6. **应用状态记忆** - 关闭GUI后重新打开会自动回到上次使用的应用界面

### 手机设置

**功能介绍:**
- **声音** - 开启/关闭手机声音
- **通知** - 开启/关闭通知
- **壁纸** - 更换手机壁纸（默认/蓝色/绿色/紫色/暗色）
- **关于手机** - 显示版本信息

**使用方法:**
1. 打开手机GUI，点击"设置"按钮
2. 点击对应选项进行设置
3. 点击左上角"←"返回主界面

### 应用商店

**功能介绍:**
- 浏览和安装各种应用
- 按分类筛选: 全部、工具、游戏、社交、生产力、娱乐
- 免费安装和卸载应用
- 支持上下滚动浏览所有应用

**内置应用列表:**

| 应用名称 | 分类 | 说明 |
|---------|------|------|
| 指南针 | 工具 | 显示方向的实用工具 |
| 时钟 | 工具 | 显示当前游戏时间 |
| 计算器 | 工具 | 进行基本数学计算 |
| 贪吃蛇 | 游戏 | 经典贪吃蛇游戏 |
| 俄罗斯方块 | 游戏 | 经典方块消除游戏 |
| 聊天室 | 社交 | 与服务器玩家聊天 |
| 邮件 | 社交 | 发送和接收邮件 |
| 备忘录 | 生产力 | 记录重要事项 |
| 日历 | 生产力 | 查看游戏内日期 |
| 音乐播放器 | 娱乐 | 播放游戏音乐 |
| 相册 | 娱乐 | 查看拍摄的照片 |

**使用方法:**
1. 打开手机GUI，点击"商店"按钮
2. 在应用商店界面浏览应用列表
3. 点击顶部分类按钮筛选应用类型
4. 点击应用右侧的"安装"按钮安装应用
5. 已安装的应用会显示"卸载"按钮，点击可卸载

### 相机功能

**使用方法:**
1. 打开手机GUI
2. 点击"相机"按钮
3. 等待3秒倒计时 (3... 2... 1...)
4. 照片自动保存到 `screenshots/mphone/` 目录
5. 照片带有水印: "MPhone Camera" + 拍摄时间

**照片特点:**
- 格式: PNG
- 分辨率: 游戏窗口分辨率
- 保存路径: `.minecraft/screenshots/mphone/`
- 文件名: `MPhone_Photo_yyyy-MM-dd_HH-mm-ss.png`
- 自动添加水印

### GUI界面特点

- **全面屏设计** - 绿色外壳
- **竖屏比例** - 120x220像素
- **15个应用按钮** - 5行3列布局，圆角设计，彩色图标，支持翻页
- **状态栏** - 顶部显示，包含信号强度、时间、SIM卡状态
- **视觉效果** - 按钮悬停高亮、立体阴影、文字阴影效果

### 时间显示

手机状态栏显示Minecraft世界时间:
- 格式: 12小时制 (例如: 3:30 PM)
- 基于游戏内世界时间
- 0 tick = 6:00 AM
- 6000 tick = 12:00 PM
- 12000 tick = 6:00 PM
- 18000 tick = 12:00 AM

## 更新日志

### v1.0.0 (2025-02-10)

**新增功能:**
- 基础物品系统 - 手机、SIM卡、信号基站
- 手机GUI界面 - 全面屏绿色手机设计
- 真实游戏时间显示 - 状态栏显示Minecraft世界时间
- 信号强度显示 - 根据与基站距离显示信号格数
- 电话卡系统 - 6位电话号码，插入/取出功能
- 基站系统 - 64格半径信号覆盖
- 相机拍照功能 - 3秒倒计时拍照，自动保存到screenshots/mphone/
- 应用商店 - 浏览、安装、卸载应用
- 手机设置功能 - 声音、通知、壁纸设置
- 短信系统 - 发送和接收短信，支持多行消息气泡
- 短信数据持久化 - 保存到世界存档
- 应用状态记忆 - 重新打开回到上次使用的应用
- 通讯录功能 - 添加、编辑、删除联系人，彩色头像显示

## 许可证

GNU General Public License v3.0 (GPL-3.0)

---